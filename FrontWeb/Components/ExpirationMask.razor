<h3>ExpirationMask</h3>

<input type="text" class="form-control" @bind="maskedValue" placeholder="01/30" @oninput="HandleInput" style="width: 100px" />

@code {

    /*
     * Created this component to format the Expiration field, like this:
     * mm/yy
     * Ex: 12/29
     */

    [Parameter]
    public string Value { get; set; }

    [Parameter]
    public EventCallback<string> ValueChanged { get; set; }

    private string maskedValue;

    protected override void OnInitialized()
    {
        maskedValue = FormatValue(Value);
    }

    private void HandleInput(ChangeEventArgs e)
    {
        Value = e.Value?.ToString();
        maskedValue = FormatValue(Value);
        /*
         * This line notifies the parent component (your form) that the value of the ExpirationMask component has changed, 
         * and the new value should be assigned to the card.Expiration property.
         */
        ValueChanged.InvokeAsync(Value);
    }

    private string FormatValue(string value)
    {
        if (string.IsNullOrEmpty(value))
            return string.Empty;

        // Keep only digits
        var digits = new string(value.Where(char.IsDigit).ToArray());

        // Limit to 4 digits (MMYY)
        if (digits.Length > 4)
            digits = digits.Substring(0, 4);

        // Format as MM/YY
        if (digits.Length <= 2)
            return digits;
        return $"{digits.Substring(0, 2)}/{digits.Substring(2)}";
    }
}